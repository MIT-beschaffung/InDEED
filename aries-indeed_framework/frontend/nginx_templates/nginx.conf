
user  nginx;
worker_processes  auto;

error_log /var/log/nginx/error_debug.log debug;
error_log  /var/log/nginx/error.log error;

pid        /var/run/nginx.pid;

events {
    worker_connections  1024;
}

http {

    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;

    log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
                      '$status $body_bytes_sent "$http_referer" '
                      '"$http_user_agent" "$http_x_forwarded_for"';

    access_log  /var/log/nginx/access_debug.log main;

    keepalive_timeout  65;

    include /etc/nginx/conf.d/*.conf;

    # load options globally
    include /etc/nginx/localSSL/options-ssl-nginx.conf;

    # set wildcard certificate globally (for all subdomains)
    ssl_certificate /etc/nginx/localSSL/wildcard.crt;
    ssl_certificate_key /etc/nginx/localSSL/wildcard.key;

    # AUTH
    server {

        listen 443 ssl;
        server_name auth.indeed-energy.de www.auth.indeed-energy.de;

        if ($scheme != "https") {
                return 301 https://$host$request_uri;
        }

        index index.html index.htm;
        underscores_in_headers on;

        location / {
            proxy_pass http://react-auth-frontend:3000;
            proxy_set_header Host $host;
            add_header  logging  "default (frontend)" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /authentication/ {
            proxy_pass http://nestjs-authentication:8110/authentication/;
            add_header  logging  "authentication" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        #location /authentication {
        #    proxy_pass http://nestjs-authentication:8110/authentication/;
        #    proxy_pass_request_headers      on;
        #}

    }

    # CONSUMER1
    server {

        listen 443 ssl;
        server_name consumer1.indeed-energy.de www.consumer1.indeed-energy.de;

        if ($scheme != "https") {
                return 301 https://$host$request_uri;
        }

        index index.html index.htm;
        underscores_in_headers on;

        location / {
            proxy_pass http://react-consumerfrontend1:3000;
            proxy_set_header Host $host;
            add_header  logging  "default (frontend)" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

         location /api/ {
            proxy_pass http://nestjs-consumer1:8106/api/;
           add_header  logging  "api" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        #location /api {
        #    proxy_pass http://nestjs-consumer1:8106/api/;
        #    proxy_pass_request_headers      on;
        #}

         location /consumer/ {
            proxy_pass http://nestjs-consumer1:8106/consumer/;
            add_header  logging  "consumer" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        #location /consumer {
        #    proxy_pass http://nestjs-consumer1:8106/consumer/;
        #    proxy_pass_request_headers      on;
        #}

         location /consumerfrontend/ {
            proxy_pass http://nestjs-consumer1:8106/consumerfrontend/;
            add_header  logging  "consumerfrontend" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        #location /consumerfrontend {
        #    proxy_pass http://nestjs-consumer1:8106/consumerfrontend/;
        #    proxy_pass_request_headers      on;
        #}
    }

    # CONSUMER2
    server {

        listen 443 ssl;
        server_name consumer2.indeed-energy.de www.consumer2.indeed-energy.de;

        if ($scheme != "https") {
            return 301 https://$host$request_uri;
        }

        index index.html index.htm;
        underscores_in_headers on;

        location / {
            proxy_pass http://react-consumerfrontend2:3000;
            proxy_set_header Host $host;
            add_header  logging  "default (frontend)" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

         location /api/ {
            proxy_pass http://nestjs-consumer2:8108/api/;
           add_header  logging  "api" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        #location /api {
        #    proxy_pass http://nestjs-consumer2:8108/api/;
        #    proxy_pass_request_headers      on;
        #}

         location /consumer/ {
            proxy_pass http://nestjs-consumer2:8108/consumer/;
            add_header  logging  "consumer" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        #location /consumer {
        #    proxy_pass http://nestjs-consumer2:8108/consumer/;
        #    proxy_pass_request_headers      on;
        #}

        location /consumerfrontend/ {
            proxy_pass http://nestjs-consumer2:8108/consumerfrontend/;
            add_header  logging  "consumerfrontend" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        #location /consumerfrontend {
        #    proxy_pass http://nestjs-consumer2:8108/consumerfrontend/;
        #    proxy_pass_request_headers      on;
        #}

    }

    # CONSUMER3
    server {

        listen 443 ssl;
        server_name consumer3.indeed-energy.de www.consumer3.indeed-energy.de;

        if ($scheme != "https") {
            return 301 https://$host$request_uri;
        } # managed by Certbot

        index index.html index.htm;
        underscores_in_headers on;

        location / {
            proxy_pass http://react-consumerfrontend3:3000;
            proxy_set_header Host $host;
            add_header  logging  "default (frontend)" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

         location /api/ {
            proxy_pass http://nestjs-consumer3:8109/api/;
            add_header  logging  "api" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        #location /api {
        #    proxy_pass http://nestjs-consumer3:8109/api/;
        #    proxy_pass_request_headers      on;
        #}

         location /consumer/ {
            proxy_pass http://nestjs-consumer3:8109/consumer/;
            add_header  logging  "consumer" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        #location /consumer {
        #    proxy_pass http://nestjs-consumer3:8109/consumer/;
        #    proxy_pass_request_headers      on;
        #}

         location /consumerfrontend/ {
            proxy_pass http://nestjs-consumer3:8109/consumerfrontend/;
            add_header  logging  "consumerfrontend" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        #location /consumerfrontend {
        #    proxy_pass http://nestjs-consumer3:8109/consumerfrontend/;
        #    proxy_pass_request_headers      on;
        #}

    }

    # SMA Probanden

    # CONSUMER01
    server {

        listen 443 ssl;
        server_name consumer01.indeed-energy.de www.consumer01.indeed-energy.de;

        if ($scheme != "https") {
            return 301 https://$host$request_uri;
        } # managed by Certbot

        index index.html index.htm;
        underscores_in_headers on;

        location / {
            proxy_pass http://react-probandfrontend01:3000;
            proxy_set_header Host $host;
            add_header  logging  "default (frontend)" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

         location /api/ {
            proxy_pass http://nestjs-consumer01:8201/api/;
            add_header  logging  "api" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        #location /api {
        #    proxy_pass http://nestjs-consumer01:8201/api/;
        #    proxy_pass_request_headers      on;
        #}

         location /consumer/ {
            proxy_pass http://nestjs-consumer01:8201/consumer/;
            add_header  logging  "consumer" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        #location /consumer {
        #    proxy_pass http://nestjs-consumer01:8201/consumer/;
        #    proxy_pass_request_headers      on;
        #}

         location /consumerfrontend/ {
            proxy_pass http://nestjs-consumer01:8201/consumerfrontend/;
            add_header  logging  "consumerfrontend" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        #location /consumerfrontend {
        #    proxy_pass http://nestjs-consumer01:8201/consumerfrontend/;
        #    proxy_pass_request_headers      on;
        #}

    }

    # CONSUMER02
    server {

        listen 443 ssl;
        server_name consumer02.indeed-energy.de www.consumer02.indeed-energy.de;

        if ($scheme != "https") {
            return 301 https://$host$request_uri;
        } # managed by Certbot

        index index.html index.htm;
        underscores_in_headers on;

        location / {
            proxy_pass http://react-probandfrontend02:3000;
            proxy_set_header Host $host;
            add_header  logging  "default (frontend)" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /api/ {
            proxy_pass http://nestjs-consumer02:8202/api/;
            add_header  logging  "api" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        # location /api {
        #     proxy_pass http://nestjs-consumer02:8202/api/;
        #     proxy_pass_request_headers      on;
        # }

        location /consumer/ {
            proxy_pass http://nestjs-consumer02:8202/consumer/;
            add_header  logging  "consumer" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }


        location /consumer {
            proxy_pass http://nestjs-consumer02:8202/consumer/;
            proxy_pass_request_headers      on;
        }

         location /consumerfrontend/ {
            proxy_pass http://nestjs-consumer02:8202/consumerfrontend/;
            add_header  logging  "consumerfrontend" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumerfrontend {
            proxy_pass http://nestjs-consumer02:8202/consumerfrontend/;
            proxy_pass_request_headers      on;
        }

    }

    # CONSUMER03
    server {

        listen 443 ssl;
        server_name consumer03.indeed-energy.de www.consumer03.indeed-energy.de;

        if ($scheme != "https") {
            return 301 https://$host$request_uri;
        } # managed by Certbot

        index index.html index.htm;
        underscores_in_headers on;

        location / {
            proxy_pass http://react-probandfrontend01:3000;
            proxy_set_header Host $host;
            add_header  logging  "default (frontend)" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

         location /api/ {
            proxy_pass http://nestjs-consumer03:8203/api/;
            add_header  logging  "api" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /api {
            proxy_pass http://nestjs-consumer03:8203/api/;
            proxy_pass_request_headers      on;
        }

         location /consumer/ {
            proxy_pass http://nestjs-consumer03:8203/consumer/;
            add_header  logging  "consumer" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumer {
            proxy_pass http://nestjs-consumer03:8203/consumer/;
            proxy_pass_request_headers      on;
        }

         location /consumerfrontend/ {
            proxy_pass http://nestjs-consumer03:8203/consumerfrontend/;
            add_header  logging  "consumerfrontend" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumerfrontend {
            proxy_pass http://nestjs-consumer03:8203/consumerfrontend/;
            proxy_pass_request_headers      on;
        }

    }

    # CONSUMER04
    server {

        listen 443 ssl;
        server_name consumer04.indeed-energy.de www.consumer04.indeed-energy.de;

        if ($scheme != "https") {
            return 301 https://$host$request_uri;
        } # managed by Certbot

        index index.html index.htm;
        underscores_in_headers on;

        location / {
            proxy_pass http://react-probandfrontend01:3000;
            proxy_set_header Host $host;
            add_header  logging  "default (frontend)" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

         location /api/ {
            proxy_pass http://nestjs-consumer04:8204/api/;
            add_header  logging  "api" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /api {
            proxy_pass http://nestjs-consumer04:8204/api/;
            proxy_pass_request_headers      on;
        }

         location /consumer/ {
            proxy_pass http://nestjs-consumer04:8204/consumer/;
            add_header  logging  "consumer" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumer {
            proxy_pass http://nestjs-consumer04:8204/consumer/;
            proxy_pass_request_headers      on;
        }

         location /consumerfrontend/ {
            proxy_pass http://nestjs-consumer04:8204/consumerfrontend/;
            add_header  logging  "consumerfrontend" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumerfrontend {
            proxy_pass http://nestjs-consumer04:8204/consumerfrontend/;
            proxy_pass_request_headers      on;
        }

    }

    # CONSUMER05
    server {

        listen 443 ssl;
        server_name consumer05.indeed-energy.de www.consumer05.indeed-energy.de;

        if ($scheme != "https") {
            return 301 https://$host$request_uri;
        } # managed by Certbot

        index index.html index.htm;
        underscores_in_headers on;

        location / {
            proxy_pass http://react-probandfrontend01:3000;
            proxy_set_header Host $host;
            add_header  logging  "default (frontend)" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

         location /api/ {
            proxy_pass http://nestjs-consumer05:8205/api/;
            add_header  logging  "api" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /api {
            proxy_pass http://nestjs-consumer05:8205/api/;
            proxy_pass_request_headers      on;
        }

         location /consumer/ {
            proxy_pass http://nestjs-consumer05:8205/consumer/;
            add_header  logging  "consumer" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumer {
            proxy_pass http://nestjs-consumer05:8205/consumer/;
            proxy_pass_request_headers      on;
        }

         location /consumerfrontend/ {
            proxy_pass http://nestjs-consumer05:8205/consumerfrontend/;
            add_header  logging  "consumerfrontend" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumerfrontend {
            proxy_pass http://nestjs-consumer05:8205/consumerfrontend/;
            proxy_pass_request_headers      on;
        }

    }

    # CONSUMER06
    server {

        listen 443 ssl;
        server_name consumer06.indeed-energy.de www.consumer06.indeed-energy.de;

        if ($scheme != "https") {
            return 301 https://$host$request_uri;
        } # managed by Certbot

        index index.html index.htm;
        underscores_in_headers on;

        location / {
            proxy_pass http://react-probandfrontend01:3000;
            proxy_set_header Host $host;
            add_header  logging  "default (frontend)" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

         location /api/ {
            proxy_pass http://nestjs-consumer06:8206/api/;
            add_header  logging  "api" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /api {
            proxy_pass http://nestjs-consumer06:8206/api/;
            proxy_pass_request_headers      on;
        }

         location /consumer/ {
            proxy_pass http://nestjs-consumer06:8206/consumer/;
            add_header  logging  "consumer" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumer {
            proxy_pass http://nestjs-consumer06:8206/consumer/;
            proxy_pass_request_headers      on;
        }

         location /consumerfrontend/ {
            proxy_pass http://nestjs-consumer06:8206/consumerfrontend/;
            add_header  logging  "consumerfrontend" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumerfrontend {
            proxy_pass http://nestjs-consumer06:8206/consumerfrontend/;
            proxy_pass_request_headers      on;
        }

    }

    # CONSUMER07
    server {

        listen 443 ssl;
        server_name consumer07.indeed-energy.de www.consumer07.indeed-energy.de;

        if ($scheme != "https") {
            return 301 https://$host$request_uri;
        } # managed by Certbot

        index index.html index.htm;
        underscores_in_headers on;

        location / {
            proxy_pass http://react-probandfrontend01:3000;
            proxy_set_header Host $host;
            add_header  logging  "default (frontend)" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

         location /api/ {
            proxy_pass http://nestjs-consumer07:8207/api/;
            add_header  logging  "api" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /api {
            proxy_pass http://nestjs-consumer07:8207/api/;
            proxy_pass_request_headers      on;
        }

         location /consumer/ {
            proxy_pass http://nestjs-consumer07:8207/consumer/;
            add_header  logging  "consumer" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumer {
            proxy_pass http://nestjs-consumer07:8207/consumer/;
            proxy_pass_request_headers      on;
        }


        location /consumerfrontend/ {
            proxy_pass http://nestjs-consumer02:8202/consumerfrontend/;
            add_header  logging  "consumerfrontend" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        # location /consumerfrontend {
        #     proxy_pass http://nestjs-consumer07:8207/consumerfrontend/;
        #     proxy_pass_request_headers      on;
        #  }

    }

    # CONSUMER08
    server {

        listen 443 ssl;
        server_name consumer08.indeed-energy.de www.consumer08.indeed-energy.de;

        if ($scheme != "https") {
            return 301 https://$host$request_uri;
        } # managed by Certbot

        index index.html index.htm;
        underscores_in_headers on;

        location / {
            proxy_pass http://react-probandfrontend01:3000;
            proxy_set_header Host $host;
            add_header  logging  "default (frontend)" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

         location /api/ {
            proxy_pass http://nestjs-consumer08:8208/api/;
            add_header  logging  "api" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /api {
            proxy_pass http://nestjs-consumer08:8208/api/;
            proxy_pass_request_headers      on;
        }

         location /consumer/ {
            proxy_pass http://nestjs-consumer08:8208/consumer/;
            add_header  logging  "consumer" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumer {
            proxy_pass http://nestjs-consumer08:8208/consumer/;
            proxy_pass_request_headers      on;
        }

         location /consumerfrontend/ {
            proxy_pass http://nestjs-consumer08:8208/consumerfrontend/;
            add_header  logging  "consumerfrontend" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumerfrontend {
            proxy_pass http://nestjs-consumer08:8208/consumerfrontend/;
            proxy_pass_request_headers      on;
        }

    }

    # CONSUMER09
    server {

        listen 443 ssl;
        server_name consumer09.indeed-energy.de www.consumer09.indeed-energy.de;

        if ($scheme != "https") {
            return 301 https://$host$request_uri;
        } # managed by Certbot

        index index.html index.htm;
        underscores_in_headers on;

        location / {
            proxy_pass http://react-probandfrontend01:3000;
            proxy_set_header Host $host;
            add_header  logging  "default (frontend)" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

         location /api/ {
            proxy_pass http://nestjs-consumer09:8209/api/;
            add_header  logging  "api" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /api {
            proxy_pass http://nestjs-consumer09:8209/api/;
            proxy_pass_request_headers      on;
        }

         location /consumer/ {
            proxy_pass http://nestjs-consumer09:8209/consumer/;
            add_header  logging  "consumer" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumer {
            proxy_pass http://nestjs-consumer09:8209/consumer/;
            proxy_pass_request_headers      on;
        }

         location /consumerfrontend/ {
            proxy_pass http://nestjs-consumer09:8209/consumerfrontend/;
            add_header  logging  "consumerfrontend" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumerfrontend {
            proxy_pass http://nestjs-consumer09:8209/consumerfrontend/;
            proxy_pass_request_headers      on;
        }

    }

    # CONSUMER10
    server {

        listen 443 ssl;
        server_name consumer10.indeed-energy.de www.consumer10.indeed-energy.de;

        if ($scheme != "https") {
            return 301 https://$host$request_uri;
        } # managed by Certbot

        index index.html index.htm;
        underscores_in_headers on;

        location / {
            proxy_pass http://react-probandfrontend10:3000;
            proxy_set_header Host $host;
            add_header  logging  "default (frontend)" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

         location /api/ {
            proxy_pass http://nestjs-consumer10:8210/api/;
            add_header  logging  "api" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /api {
            proxy_pass http://nestjs-consumer10:8210/api/;
            proxy_pass_request_headers      on;
        }

         location /consumer/ {
            proxy_pass http://nestjs-consumer10:8210/consumer/;
            add_header  logging  "consumer" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumer {
            proxy_pass http://nestjs-consumer10:8210/consumer/;
            proxy_pass_request_headers      on;
        }

         location /consumerfrontend/ {
            proxy_pass http://nestjs-consumer10:8210/consumerfrontend/;
            add_header  logging  "consumerfrontend" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumerfrontend {
            proxy_pass http://nestjs-consumer10:8210/consumerfrontend/;
            proxy_pass_request_headers      on;
        }

    }

    # CONSUMER11
    server {

        listen 443 ssl;
        server_name consumer11.indeed-energy.de www.consumer11.indeed-energy.de;

        if ($scheme != "https") {
            return 301 https://$host$request_uri;
        } # managed by Certbot

        index index.html index.htm;
        underscores_in_headers on;

        location / {
            proxy_pass http://react-probandfrontend10:3000;
            proxy_set_header Host $host;
            add_header  logging  "default (frontend)" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

         location /api/ {
            proxy_pass http://nestjs-consumer11:8211/api/;
            add_header  logging  "api" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /api {
            proxy_pass http://nestjs-consumer11:8211/api/;
            proxy_pass_request_headers      on;
        }

         location /consumer/ {
            proxy_pass http://nestjs-consumer11:8211/consumer/;
            add_header  logging  "consumer" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumer {
            proxy_pass http://nestjs-consumer11:8211/consumer/;
            proxy_pass_request_headers      on;
        }

         location /consumerfrontend/ {
            proxy_pass http://nestjs-consumer11:8211/consumerfrontend/;
            add_header  logging  "consumerfrontend" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumerfrontend {
            proxy_pass http://nestjs-consumer11:8211/consumerfrontend/;
            proxy_pass_request_headers      on;
        }

    }

    # CONSUMER12
    server {

        listen 443 ssl;
        server_name consumer12.indeed-energy.de www.consumer12.indeed-energy.de;

        if ($scheme != "https") {
            return 301 https://$host$request_uri;
        } # managed by Certbot

        index index.html index.htm;
        underscores_in_headers on;

        location / {
            proxy_pass http://react-probandfrontend10:3000;
            proxy_set_header Host $host;
            add_header  logging  "default (frontend)" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

         location /api/ {
            proxy_pass http://nestjs-consumer12:8212/api/;
            add_header  logging  "api" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /api {
            proxy_pass http://nestjs-consumer12:8212/api/;
            proxy_pass_request_headers      on;
        }

         location /consumer/ {
            proxy_pass http://nestjs-consumer12:8212/consumer/;
            add_header  logging  "consumer" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumer {
            proxy_pass http://nestjs-consumer12:8212/consumer/;
            proxy_pass_request_headers      on;
        }

         location /consumerfrontend/ {
            proxy_pass http://nestjs-consumer12:8212/consumerfrontend/;
            add_header  logging  "consumerfrontend" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumerfrontend {
            proxy_pass http://nestjs-consumer12:8212/consumerfrontend/;
            proxy_pass_request_headers      on;
        }

    }

    # CONSUMER13
    server {

        listen 443 ssl;
        server_name consumer13.indeed-energy.de www.consumer13.indeed-energy.de;

        if ($scheme != "https") {
            return 301 https://$host$request_uri;
        } # managed by Certbot

        index index.html index.htm;
        underscores_in_headers on;

        location / {
            proxy_pass http://react-probandfrontend10:3000;
            proxy_set_header Host $host;
            add_header  logging  "default (frontend)" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

         location /api/ {
            proxy_pass http://nestjs-consumer13:8213/api/;
            add_header  logging  "api" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /api {
            proxy_pass http://nestjs-consumer13:8213/api/;
            proxy_pass_request_headers      on;
        }

         location /consumer/ {
            proxy_pass http://nestjs-consumer13:8213/consumer/;
            add_header  logging  "consumer" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumer {
            proxy_pass http://nestjs-consumer13:8213/consumer/;
            proxy_pass_request_headers      on;
        }

         location /consumerfrontend/ {
            proxy_pass http://nestjs-consumer13:8213/consumerfrontend/;
            add_header  logging  "consumerfrontend" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumerfrontend {
            proxy_pass http://nestjs-consumer13:8213/consumerfrontend/;
            proxy_pass_request_headers      on;
        }

    }

    # CONSUMER14
    server {

        listen 443 ssl;
        server_name consumer14.indeed-energy.de www.consumer14.indeed-energy.de;

        if ($scheme != "https") {
            return 301 https://$host$request_uri;
        } # managed by Certbot

        index index.html index.htm;
        underscores_in_headers on;

        location / {
            proxy_pass http://react-probandfrontend10:3000;
            proxy_set_header Host $host;
            add_header  logging  "default (frontend)" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

         location /api/ {
            proxy_pass http://nestjs-consumer14:8214/api/;
            add_header  logging  "api" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /api {
            proxy_pass http://nestjs-consumer14:8214/api/;
            proxy_pass_request_headers      on;
        }

         location /consumer/ {
            proxy_pass http://nestjs-consumer14:8214/consumer/;
            add_header  logging  "consumer" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumer {
            proxy_pass http://nestjs-consumer14:8214/consumer/;
            proxy_pass_request_headers      on;
        }

         location /consumerfrontend/ {
            proxy_pass http://nestjs-consumer14:8214/consumerfrontend/;
            add_header  logging  "consumerfrontend" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumerfrontend {
            proxy_pass http://nestjs-consumer14:8214/consumerfrontend/;
            proxy_pass_request_headers      on;
        }

    }

    # CONSUMER15
    server {

        listen 443 ssl;
        server_name consumer15.indeed-energy.de www.consumer15.indeed-energy.de;

        if ($scheme != "https") {
            return 301 https://$host$request_uri;
        } # managed by Certbot

        index index.html index.htm;
        underscores_in_headers on;

        location / {
            proxy_pass http://react-probandfrontend10:3000;
            proxy_set_header Host $host;
            add_header  logging  "default (frontend)" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

         location /api/ {
            proxy_pass http://nestjs-consumer15:8215/api/;
            add_header  logging  "api" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /api {
            proxy_pass http://nestjs-consumer15:8215/api/;
            proxy_pass_request_headers      on;
        }

         location /consumer/ {
            proxy_pass http://nestjs-consumer15:8215/consumer/;
            add_header  logging  "consumer" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumer {
            proxy_pass http://nestjs-consumer15:8215/consumer/;
            proxy_pass_request_headers      on;
        }

         location /consumerfrontend/ {
            proxy_pass http://nestjs-consumer15:8215/consumerfrontend/;
            add_header  logging  "consumerfrontend" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumerfrontend {
            proxy_pass http://nestjs-consumer15:8215/consumerfrontend/;
            proxy_pass_request_headers      on;
        }

    }

    # CONSUMER16
    server {

        listen 443 ssl;
        server_name consumer16.indeed-energy.de www.consumer16.indeed-energy.de;

        if ($scheme != "https") {
            return 301 https://$host$request_uri;
        } # managed by Certbot

        index index.html index.htm;
        underscores_in_headers on;

        location / {
            proxy_pass http://react-probandfrontend16:3000;
            proxy_set_header Host $host;
            add_header  logging  "default (frontend)" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

         location /api/ {
            proxy_pass http://nestjs-consumer16:8216/api/;
            add_header  logging  "api" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /api {
            proxy_pass http://nestjs-consumer16:8216/api/;
            proxy_pass_request_headers      on;
        }

         location /consumer/ {
            proxy_pass http://nestjs-consumer16:8216/consumer/;
            add_header  logging  "consumer" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumer {
            proxy_pass http://nestjs-consumer16:8216/consumer/;
            proxy_pass_request_headers      on;
        }

         location /consumerfrontend/ {
            proxy_pass http://nestjs-consumer16:8216/consumerfrontend/;
            add_header  logging  "consumerfrontend" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /consumerfrontend {
            proxy_pass http://nestjs-consumer16:8216/consumerfrontend/;
            proxy_pass_request_headers      on;
        }

    }

    # CONSUMER17
    server {

        listen 443 ssl;
        server_name consumer17.indeed-energy.de www.consumer17.indeed-energy.de;

        if ($scheme != "https") {
            return 301 https://$host$request_uri;
        } # managed by Certbot

        index index.html index.htm;
        underscores_in_headers on;

        location / {
            proxy_pass http://react-probandfrontend17:3000;
            proxy_set_header Host $host;
            add_header  logging  "default (frontend)" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

         location /api/ {
            proxy_pass http://nestjs-consumer17:8217/api/;
            add_header  logging  "api" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

         location /consumer/ {
            proxy_pass http://nestjs-consumer17:8217/consumer/;
            add_header  logging  "consumer" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

         location /consumerfrontend/ {
            proxy_pass http://nestjs-consumer17:8217/consumerfrontend/;
            add_header  logging  "consumerfrontend" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

    }


    # Optimization
    server {

        listen 443 ssl ;
        server_name opt.indeed-energy.de www.opt.indeed-energy.de;

        if ($scheme != "https") {
            return 301 https://$host$request_uri;
        }

        index index.html index.htm;
        underscores_in_headers on;

        location /swaggerui/ {
            proxy_pass http://opt-service:5000/swaggerui/;
            proxy_pass_request_headers      on;
        }

        location /api/ {
            proxy_pass http://opt-service:5000/api/;
            proxy_pass_request_headers      on;
            add_header  logging  "optimizer" always;
        }

        #location /api {
        #    proxy_pass http://opt-service:5000/api/;
        #    proxy_pass_request_headers      on;
        #    add_header  logging  "optimizer" always;
        #}

        location / {
            proxy_pass http://opt-service:5000;
            add_header  logging  "default" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }


    }

    # OWNER
    server {

        listen 443 ssl;
        server_name owner.indeed-energy.de www.owner.indeed-energy.de;

        if ($scheme != "https") {
            return 301 https://$host$request_uri;
        }

        underscores_in_headers on;
        index index.html index.htm;

        location / {
            deny all;
            #proxy_pass http://angular-ownerfrontend:4200;
            #proxy_set_header Host $host;
            #add_header  logging  "default (frontend)" always;
            #proxy_http_version 1.1;
            #proxy_set_header Upgrade $http_upgrade;
            #proxy_set_header Connection "upgrade";
            #proxy_read_timeout 86400;
        }

        location /api/ {
            proxy_pass http://nestjs-owner:8107/api/;
            proxy_set_header Host $host;
            add_header  logging  "api" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

       # location /api {
       #     proxy_pass http://nestjs-owner:8107/api/;
       #     proxy_pass_request_headers      on;
       # }

        location /loggeddata/ {
           proxy_pass http://nestjs-owner:8107/loggeddata/;
           proxy_set_header Host $host;
           add_header  logging  "logg" always;
        #    add_header  logging  "aggregate" always;
           proxy_http_version 1.1;
           proxy_set_header Upgrade $http_upgrade;
           proxy_set_header Connection "upgrade";
           proxy_read_timeout 86400;
       }

       #location /loggeddata {
       #    proxy_pass http://nestjs-owner:8107/loggeddata/;
       #    proxy_pass_request_headers      on;
       #}

        location  /aggregate/ {
            proxy_pass http://nestjs-owner:8107/aggregate/;
            proxy_set_header Host $host;
            add_header  logging  "aggregate" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        #location /aggregate {
        #    proxy_pass http://nestjs-owner:8107/aggregate/;
        #    proxy_pass_request_headers      on;
        #}

        location /notarizeOwner/{
            proxy_pass http://nestjs-owner:8107/notarizeOwner/;
            proxy_set_header Host $host;
            add_header  logging  "notarize" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        location /notarize/ {
            proxy_pass http://nestjs-ubt:8105/notarize/;
            add_header  logging  "notarize";
            proxy_pass_request_headers      on;
        }

        location /remoteNotarize/ {
            proxy_pass http://nestjs-owner:8107/remoteNotarize/;
            proxy_set_header Host $host;
            add_header  logging  "remoteNotarize" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        #location /remoteNotarize {
        #    proxy_pass http://nestjs-owner:8107/remoteNotarize;
        #    proxy_set_header Host $host;
        #    add_header  logging  "remoteNotarizeBase" always;
        #    proxy_http_version 1.1;
        #    proxy_set_header Upgrade $http_upgrade;
        #    proxy_set_header Connection "upgrade";
        #    proxy_read_timeout 86400;
        #}
    }

    # ZKP Service
    server {

        listen 8080;

        listen 443 ssl;
        server_name zkp.indeed-energy.de www.zkp.indeed-energy.de;

        if ($scheme != "https") {
            return 301 https://$host$request_uri;
        }

        index index.html index.htm;
        underscores_in_headers on;

        location / {
            return 404;
        }

        location /api/ {
            proxy_pass http://zkp-service:8100/api/;
            add_header  logging  "ZKP API" always;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_read_timeout 86400;
        }

        #location /api {
        #    proxy_pass http://zkp-service:8100/api/;
        #    proxy_pass_request_headers      on;
        #}


        location /zkp/ {
            proxy_pass http://zkp-service:8100/zkp/;
            proxy_pass_request_headers      on;
        }

        #location /zkp {
        #    proxy_pass http://zkp-service:8100/zkp/;
        #    proxy_pass_request_headers      on;
        #}

    }

    # UBT
    server {

        listen 443 ssl default_server;
        server_name indeed-energy.de www.indeed-energy.de ubt.indeed-energy.de www.ubt.indeed-energy.de;

        if ($scheme != "https") {
            return 301 https://$host$request_uri;
        }

        index index.html index.htm;
        underscores_in_headers on;

        location / {
            deny all;
        }

        location ^~ /.well-known/acme-challenge/ {
            default_type "text/plain";
            root /var/www/letsencrypt;
        }

         #mongo-express stuff
         #location /db/ {
         #    proxy_pass http://mongo-express:8081/db/;
         #    proxy_pass_request_headers     on;
         #}
         #location /db {
         #    proxy_pass http://mongo-express:8081/db;
         #    proxy_pass_request_headers     on;
         #}

        # location /public/ {
        #    proxy_pass http://mongo-express:8081/public/;
        #    proxy_pass_request_headers      on;
        # }

        # location /public {
        #     return 302 /public/;
        #

        location /api/ {
            proxy_pass http://nestjs-ubt:8105/api/;
            proxy_pass_request_headers      on;
        }

        #location /api {
        #    proxy_pass http://nestjs-ubt:8105/api/;
        #    proxy_pass_request_headers      on;
        #}

        location /loggeddata/ {
            proxy_pass http://nestjs-ubt:8105/loggeddata/;
            proxy_pass_request_headers      on;
        }

        #location /loggeddata {
        #    proxy_pass http://nestjs-ubt:8105/loggeddata;
        #    proxy_pass_request_headers      on;
        #}

        location /ffe/ {
            proxy_pass http://nestjs-ubt:8105/ffe/;
            proxy_pass_request_headers      on;
        }

        #location /ffe {
        #    proxy_pass http://nestjs-ubt:8105/ffe/;
        #    proxy_pass_request_headers      on;
        #}

        location /rheinenergie/ {
            proxy_pass http://nestjs-ubt:8105/rheinenergie/;
            proxy_pass_request_headers      on;
        }

        #location /rheinenergie {
        #    proxy_pass http://nestjs-ubt:8105/rheinenergie/;
        #    proxy_pass_request_headers      on;
        #}

        location /sma/ {
            proxy_pass http://nestjs-ubt:8105/sma/;
            proxy_pass_request_headers      on;
        }

        #location /sma {
        #    proxy_pass http://nestjs-ubt:8105/sma/;
        #    proxy_pass_request_headers      on;
        #}

        location /smaProbanden/ {
            proxy_pass http://nestjs-ubt:8105/smaProbanden/;
            proxy_pass_request_headers      on;
        }

        #location /smaProbanden {
        #    proxy_pass http://nestjs-ubt:8105/smaProbanden/;
        #    proxy_pass_request_headers      on;
        #}

        location /liqwotec/ {
            proxy_pass http://nestjs-ubt:8105/liqwotec/;
            proxy_pass_request_headers       on;
        }

        #location /liqwotec {
        #    proxy_pass http://nestjs-ubt:8105/liqwotec/;
        #    proxy_pass_request_headers       on;
        #}

        location /lew/ {
            proxy_pass http://nestjs-ubt:8105/lew/;
            proxy_pass_request_headers       on;
        }

        #location /lew {
        #    proxy_pass http://nestjs-ubt:8105/lew/;
        #    proxy_pass_request_headers       on;
        #}

        location /schweiger/ {
            proxy_pass http://nestjs-ubt:8105/schweiger/;
            proxy_pass_request_headers       on;
        }

        #location /schweiger {
        #    proxy_pass http://nestjs-ubt:8105/schweiger/;
        #    proxy_pass_request_headers       on;
        #}

        location /aggregate/ {
            proxy_pass http://nestjs-ubt:8105/aggregate/;
            proxy_pass_request_headers      on;
        }

        #location /aggregate {
        #    proxy_pass http://nestjs-ubt:8105/aggregate/;
        #    proxy_pass_request_headers      on;
        #}

        location /notarize/ {
            proxy_pass http://nestjs-ubt:8105/notarize/;
            proxy_pass_request_headers      on;
        }

        #location /notarize {
        #    proxy_pass http://nestjs-ubt:8105/notarize/;
        #    proxy_pass_request_headers      on;
        #}

        location /labeling/ {
            proxy_pass http://nestjs-ubt:8105/labeling/;
            proxy_pass_request_headers      on;
        }

        #location /labeling {
        #    proxy_pass http://nestjs-ubt:8105/labeling/;
        #    proxy_pass_request_headers      on;
        #}

        location /masterData/ {
            proxy_pass http://nestjs-ubt:8105/masterData/;
            proxy_pass_request_headers      on;
        }

        #location /masterData {
        #    proxy_pass http://nestjs-ubt:8105/masterData/;
        #    proxy_pass_request_headers      on;
        #}

        location /quorum/ {
            proxy_pass http://nestjs-ubt:8105$uri$is_args$args;
            proxy_pass_request_headers      on;
        }

        #location /quorum {
        #    proxy_pass http://nestjs-ubt:8105$uri$is_args$args;
        #    proxy_pass_request_headers      on;
        #}

        location /collectiveNotarize/ {
            proxy_pass http://nestjs-ubt:8105/collectiveNotarize/;
            proxy_pass_request_headers      on;
        }

        #location /collectiveNotarize {
        #    proxy_pass http://nestjs-ubt:8105/collectiveNotarize/;
        #    proxy_pass_request_headers      on;
        #}
    }
}
